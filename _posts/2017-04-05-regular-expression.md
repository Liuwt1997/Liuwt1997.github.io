---
layout: post
title: æ­£åˆ™è¡¨è¾¾å¼åŽŸç†æŽ¢ç©¶
categories: æ­£åˆ™è¡¨è¾¾å¼
description: æ­£åˆ™è¡¨è¾¾å¼
keywords: æ­£åˆ™è¡¨è¾¾å¼
---
# åŠ¨æœº
>æ­£åˆ™è¡¨è¾¾å¼æ˜¯è¢«å¹¿ä¸ºä½¿ç”¨çš„å·¥å…·ï¼ŒåŠŸèƒ½éžå¸¸å¼ºå¤§ï¼Œä½†è¯­æ³•å¾ˆå¤æ‚ï¼Œæƒ³è¦å®Œå…¨è®°å¿†éžå¸¸éº»çƒ¦ã€‚  
å¶ç„¶é—´åœ¨ã€Šç®—æ³•ï¼šç¬¬å››ç‰ˆã€‹ä¸Šçœ‹åˆ°äº†æœ‰å…³äºŽæ­£åˆ™è¡¨è¾¾å¼åŽŸç†çš„å™è¿°ï¼Œå—ç›ŠåŒªæµ…ï¼Œåœ¨æ­¤åšä¸‹ç¬”è®°ã€‚

  
  
# æ­£åˆ™è¡¨è¾¾å¼çš„å®šä¹‰
**ä»€ä¹ˆæ˜¯æ­£åˆ™è¡¨è¾¾å¼ï¼Ÿ**ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼å¯¹åº”ç€ä¸€å †å­—ç¬¦ä¸²ï¼Œè¿™äº›å­—ç¬¦ä¸²æž„æˆä¸€ä¸ªé›†åˆï¼Œå®ƒä»¬çš„å…±åŒç‰¹ç‚¹å°±æ˜¯åŒ¹é…äºŽè¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼ã€‚ä¾‹å¦‚ï¼ša(a|b) * b å°±å¯¹åº”ç€ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸ºaï¼Œæœ€åŽä¸€ä¸ªå­—ç¬¦ä¸ºbï¼Œç”±aå’Œbæž„æˆçš„å­—ç¬¦ä¸²ã€‚ 

æ­£åˆ™è¡¨è¾¾å¼æœ‰ä¸‰ç§æ ¸å¿ƒçš„åŸºæœ¬ç»“æž„ï¼š

1.  *è¿žæŽ¥*ï¼šå¦‚abcï¼Œç”±a,  bï¼Œcè¿žæŽ¥è€Œæˆã€‚
2.  *æˆ–*ï¼šå¦‚a\|b\|cï¼Œè¡¨ç¤ºæ˜¯aæˆ–bæˆ–cã€‚
         ab|bcdè¡¨ç¤ºabæˆ–bcdã€‚
3.  *é—­åŒ…*ï¼šå¦‚a*bï¼Œè¡¨ç¤º0æˆ–è‹¥å¹²ä¸ªaå’Œä¸€ä¸ªbè¿žæŽ¥è€Œæˆçš„å­—ç¬¦ä¸²ã€‚

ä»¥ä¸Šå°±æ˜¯æœ€æœ€æœ€åŸºæœ¬çš„ç»“æž„ï¼Œæ˜¯æž„æˆæ­£åˆ™è¡¨è¾¾å¼çš„åŸºç¡€ã€‚

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ‹¬å·æ”¹å˜ä¼˜å…ˆçº§é¡ºåºï¼Œå¦‚c(ac\|b)dè¡¨ç¤ºcacd, cbdã€‚

è‡³äºŽå…¶å®ƒæ•™ç¨‹é‡Œå†™åˆ°çš„å¦‚+,?, []ç­‰æ“ä½œéƒ½æ˜¯åŸºæœ¬æ“ä½œçš„ç®€ç•¥ç¼©å†™ï¼Œå®ƒä»¬éƒ½å¯ä»¥é€šè¿‡åŸºæœ¬æ“ä½œå®Œæˆã€‚    


+æ˜¯ç”±é‚£äº›åŸºæœ¬æ“ä½œå®Œæˆçš„ï¼Ÿ(æ–‡ç« æœ«å°¾ç»™å‡ºç­”æ¡ˆ)

åŸºæœ¬çš„è¯­æ³•å°±ä»‹ç»åˆ°è¿™ï¼Œè¿™ç¯‡æ–‡ç« å¹¶ä¸æ˜¯ä¸»è¦è®²åº”ç”¨ã€‚æœ‰å…´è¶£æœ‹å‹å¯ä»¥åœ¨ç½‘ä¸Šæœç´¢å®Œæ•´çš„è¯­æ³•è§„åˆ™ï¼Œéžå¸¸è¯¦ç»†ã€‚

#  éžç¡®å®šæœ‰é™çŠ¶æ€è‡ªåŠ¨æœº
## DFA
DFAåˆå«ç¡®å®šæœ‰é™çŠ¶æ€è‡ªåŠ¨æœºï¼Œå³å¯¹äºŽä¸€ä¸ªè¾“å…¥ï¼Œå®ƒçš„è¾“å‡ºçŠ¶æ€æ˜¯ç¡®å®šçš„ã€‚å¦‚å›¾ï¼š  


![](https://raw.githubusercontent.com/Liuwt1997/github-photo/master/DFA.png)  


å¯¹äºŽè¿™ä¸ªè‡ªåŠ¨æœºï¼Œè¾“å‡ºè¾¹æ˜¯Turn Onå’ŒTurn Offçš„åŠ¨ä½œï¼ŒTurn Onå¯¼è‡´çŠ¶æ€å˜ä¸ºOnï¼ŒTurn Offå¯¼è‡´çŠ¶æ€å˜ä¸ºOffã€‚  
è¿™ä¸¤ä¸ªåŠ¨ä½œæ‰€å¯¼è‡´çš„ç»“æžœæ˜¯å¯ä»¥é¢„æ–™çš„ï¼Œç¡®å®šçš„ã€‚æ‰€ä»¥è¯´æ˜¯ç¡®å®šæœ‰é™çŠ¶æ€è‡ªåŠ¨æœºã€‚

## NFA
NFAå«éžç¡®å®šæœ‰é™çŠ¶æ€è‡ªåŠ¨æœºï¼Œå’ŒDFAçš„å”¯ä¸€åŒºåˆ«æ˜¯å®ƒçš„è¾“å‡ºæ˜¯éžç¡®å®šçš„ï¼ŒDFAæ˜¯NFAçš„ä¸€ä¸ªå­é›†ã€‚å¦‚å›¾ï¼š

![](https://raw.githubusercontent.com/Liuwt1997/github-photo/master/NFA.png)

è¿˜æ˜¯é‚£ä¸ªä¾‹å­ï¼Œåªä¸è¿‡çŠ¶æ€Offçš„Turn Onæ“ä½œå¤šäº†ä¸€ä¸ªæ–°çš„çŠ¶æ€Down  
 
å½“æˆ‘ä»¬è¿›è¡ŒTurn Onæ“ä½œæ—¶æ— æ³•ç¡®å®šåˆ°è¾¾çš„æ˜¯Onè¿˜æ˜¯Downï¼Œå› æ­¤æ˜¯æ— æ³•æ ¹æ®å½“å‰çŠ¶æ€å’Œè¾“å‡ºè¾¹ç¡®å®šä¸‹ä¸€çŠ¶æ€çš„ï¼Œè¿™å°±å«åšéžç¡®å®šæ€§æœ‰é™çŠ¶æ€è‡ªåŠ¨æœºã€‚


## å®žä¾‹  

æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸ªç¤ºä¾‹ï¼Œå®ƒè¯´æ˜Žäº†NFAçš„æ€§è´¨å’Œæ“ä½œã€‚å¦‚å›¾ï¼š  

![](https://raw.githubusercontent.com/Liuwt1997/github-photo/master/NFA%E4%B8%BE%E4%BE%8B.png)  

ï¼ˆå›¾è¡¨ç¤º((A*B\|AC)D)æ‰€å¯¹åº”çš„NFAï¼‰
  
  
æˆ‘ä»¬å®šä¹‰çš„NFAæœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š     

1.  æ­£åˆ™è¡¨è¾¾å¼ä¸­æ¯ä¸ªå­—ç¬¦æœ‰ä¸”åªæœ‰ä¸€ä¸ªå¯¹åº”çš„çŠ¶æ€ã€‚
2.  å­—ç¬¦æ‰€å¯¹åº”çš„çŠ¶æ€æœ‰ä¸€æ¡æŒ‡å‘ä¸‹ä¸€ä¸ªå­—ç¬¦å¯¹åº”çŠ¶æ€çš„è¾¹ï¼ˆå›¾ä¸­é»‘è‰²çš„è¾¹ï¼‰
3.  "(",  ")", "\|", å’Œ"*"æ‰€å¯¹åº”çš„çŠ¶æ€è‡³å°‘å«æœ‰ä¸€æ¡æŒ‡å‡ºçš„è¾¹ï¼Œå¯èƒ½æŒ‡å‘ä»»æ„çŠ¶æ€ï¼ˆå›¾ä¸­çº¢è‰²è¾¹ï¼‰   
4.  ä¸€ä¸ªçŠ¶æ€åªèƒ½æœ‰ä¸€æ¡æŒ‡å‡ºçš„é»‘è‰²è¾¹  

æˆ‘ä»¬ç”¨æž„é€ çš„NFAåŽ»åŒ¹é…æ–‡æœ¬ï¼Œå½“ä»Žèµ·å§‹çŠ¶æ€0èƒ½å¤Ÿåˆ°è¾¾æœ€ç»ˆçŠ¶æ€çš„è¯ï¼Œå³åŒ¹é…æˆåŠŸï¼Œè¿™å°±æ˜¯æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…æ–‡æœ¬çš„åŽŸç†ã€‚  

NFAä¸­çŠ¶æ€çš„è½¬æ¢æœ‰ä»¥ä¸‹ä¸¤ç§:    

1.  åŒ¹é…è½¬æ¢ï¼š å½“å­—ç¬¦åŒ¹é…æ—¶ï¼Œç”±é»‘è‰²çš„è¾¹è½¬æ¢åˆ°ä¸‹ä¸€çŠ¶æ€ã€‚
2.  Îµ-è½¬æ¢ï¼šä¸æ‰«æä»»ä½•å­—ç¬¦ï¼Œé€šè¿‡çº¢è‰²çš„è¾¹è½¬æ¢åˆ°å¦ä¸€ä¸ªçŠ¶æ€ã€‚  



## NFAçš„è¿è¡Œ  
è¿è¡Œçš„æ ¸å¿ƒæ€æƒ³å°±æ˜¯ï¼šéåŽ†æ‰€æœ‰å¯èƒ½åˆ°è¾¾çš„çŠ¶æ€åºåˆ—ï¼Œåªè¦å…¶ä¸­å­˜åœ¨æœ€ç»ˆçŠ¶æ€å°±åŒ¹é…æˆåŠŸã€‚ç±»ä¼¼äºŽåŠ¨æ€è§„åˆ’ã€‚

é¦–å…ˆå°†NFAä¸­çš„ä¸¤ä¸ªçŠ¶æ€è½¬æ¢è¡¨ç¤ºå‡ºæ¥ã€‚æˆ‘ä»¬ç”¨ä¸€ä¸ªcharæ•°ç»„re[]ä¿å­˜æ­£åˆ™è¡¨è¾¾å¼æœ¬èº« ï¼Œå¦‚æžœre[i]å­˜åœ¨äºŽå­—æ¯è¡¨ä¸­ï¼Œé‚£ä¹ˆå°±å­˜åœ¨ä¸€ä¸ªä»Žiåˆ°i+1çš„åŒ¹é…è½¬æ¢ã€‚     

è‡ªç„¶åœ°ï¼ŒÎµ-è½¬æ¢å°±ç”¨æœ‰å‘å›¾Gè¡¨ç¤ºï¼Œå®žä¾‹ä¸­çš„ Îµ-è½¬æ¢å¯æž„å»ºä¸º:0->1  1->2   1->6    2->3......ä»¥æ­¤ç±»æŽ¨ã€‚  

å½“å¤„äºŽçŠ¶æ€0æ—¶ï¼Œæˆ‘ä»¬éåŽ†æ‰€æœ‰ä»Ž0é€šè¿‡Îµ-è½¬æ¢(æœ‰å‘å›¾çš„æ·±åº¦ä¼˜å…ˆæœç´¢)å¯åˆ°è¾¾çš„çŠ¶æ€æ”¾å…¥ä¸€ä¸ªé›†åˆï¼Œå†ä»Žä¸­æŸ¥æ‰¾æ˜¯å¦å­˜åœ¨æœ€ç»ˆçŠ¶æ€çš„å€¼ã€‚  
å½“åŒ¹é…ä¸€ä¸ªå­—ç¬¦åˆ°è¾¾çŠ¶æ€1åŽï¼Œå†éåŽ†æ‰€æœ‰ä»Ž1é€šè¿‡Îµ-è½¬æ¢å¯åˆ°è¾¾çš„çŠ¶æ€......å¦‚æ­¤åå¤ï¼Œå½“æ–‡æœ¬ç»“æŸæ—¶ä»Žé›†åˆä¸­æ‰¾åˆ°æ˜¯å¦å«æœ‰æœ€ç»ˆçŠ¶æ€æ¥è¯´æ˜Žæ˜¯å¦åˆ°è¾¾æŽ¥å—çŠ¶æ€ã€‚  

ä¾‹å¦‚ï¼Œåœ¨å®žä¾‹ä¸­åˆå§‹é›†åˆä¸º{1, 2, 3, 4, 6}ï¼Œå¦‚æžœç¬¬ä¸€ä¸ªå­—ç¬¦ä¸ºAï¼Œåˆ™æŽ¥ä¸‹æ¥å¯èƒ½çš„çŠ¶æ€ä¸º{3, 7} ,é€šè¿‡Îµ-è½¬æ¢å¯åˆ°2ï¼Œ4ï¼Œå› æ­¤ç¬¬äºŒä¸ªå­—ç¬¦çŠ¶æ€é›†åˆä¸º{2, 3, 4, 7}ã€‚å†ä¸æ–­é‡å¤è¿™ä¸ªè¿‡ç¨‹ç›´åˆ°æ–‡æœ¬ç»“æŸã€‚    


è¾“å…¥A A B Dä¼šæœ‰ä»€ä¹ˆæ ·çš„è½¨è¿¹ï¼Ÿ(æ–‡ç« æœ«å°¾ç»™å‡ºç­”æ¡ˆ)

  
  
## NFAçš„æž„é€   
é•¿ä¸²çš„æ­£åˆ™è¡¨è¾¾å¼éƒ½æ˜¯ä¸‰ä¸ªåŸºæœ¬æ“ä½œå’Œæ‹¬å·æž„æˆçš„ï¼Œå› æ­¤æˆ‘ä»¬çš„NFAä¹Ÿå¯ä»¥çœ‹ä½œæˆè‹¥å¹²åŸºæœ¬æ“ä½œæ‹¼æŽ¥è€Œæˆï¼Œä¸‹é¢å°±æ¥ä»‹ç»ä¸€ä¸‹åŸºæœ¬æ“ä½œæ‰€å¯¹åº”çš„NFAã€‚  

1.    è¿žæŽ¥æ“ä½œï¼šå­—ç¬¦åŠ çŠ¶æ€åŒ¹é…å³å¯ã€‚

      ![](https://raw.githubusercontent.com/Liuwt1997/github-photo/master/%E8%BF%9E%E6%8E%A5%E6%93%8D%E4%BD%9C.png)  

2.   æ‹¬å·ï¼šç”¨æ ˆå¤„ç†ã€‚
3.   é—­åŒ…æ“ä½œï¼š   
      * å‡ºçŽ°åœ¨å•ä¸ªå­—ç¬¦ä¹‹åŽï¼šåœ¨è¯¥å­—ç¬¦å’Œ\* ä¹‹é—´æ·»åŠ ä¸¤æ¡Îµ-è½¬æ¢ã€‚  
         ![](https://raw.githubusercontent.com/Liuwt1997/github-photo/master/%E5%8D%95%E5%AD%97%E7%AC%A6%E9%97%AD%E5%8C%85.png)  
         
      * å‡ºçŽ°åœ¨å³æ‹¬å·ä¹‹åŽï¼šåœ¨æ ˆé¡¶çš„å·¦æ‹¬å·å’Œ\*ä¹‹é—´æ·»åŠ ä¸¤æ¡Îµ-è½¬æ¢ã€‚  
         ![](https://raw.githubusercontent.com/Liuwt1997/github-photo/master/%E9%97%AD%E5%8C%85%E8%A1%A8%E8%BE%BE%E5%BC%8F.png)  
4.    æˆ–ï¼šA\|Bä¸­Aå’ŒBéƒ½æ˜¯æ­£åˆ™è¡¨è¾¾å¼ã€‚åŒæ ·ä¹Ÿæ˜¯æ·»åŠ ä¸¤æ¡Îµ-è½¬æ¢ï¼Œä¸€æ¡ä»Žå·¦æ‹¬å·æŒ‡å‘
Bä¸­ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼Œå¦ä¸€æ¡ä»Ž\|å­—ç¬¦æŒ‡å‘å³æ‹¬å·ã€‚è¿™ä½¿NFAèƒ½å¤Ÿè¿›è¡Œé€‰æ‹©ã€‚![](https://raw.githubusercontent.com/Liuwt1997/github-photo/master/%E6%88%96%E6%93%8D%E4%BD%9C.png)      

è¿ç”¨ä»¥ä¸Šå‡ ä¸ªåŸºæœ¬çš„NFAï¼Œæˆ‘ä»¬å¯ä»¥æ‹¼æŽ¥å‡ºä»»æ„NFAã€‚  

# ä»£ç   
æœ¬ç¯‡æ–‡ç« ä»¥ä»‹ç»æ¦‚å¿µä¸ºä¸»ï¼Œå…·ä½“çš„å®žçŽ°å¯å‚ç…§[NFA.java](http://algs4.cs.princeton.edu/54regexp/NFA.java.html)  

# åŽè®°
## æ„Ÿæƒ³
>æ­£åˆ™è¡¨è¾¾å¼æ˜¯å¾ˆå¼ºå¤§çš„å·¥å…·ï¼Œç½‘ä¸Šæ•™ç¨‹ä¸€å¤§æŠŠï¼Œä½†å¤šæ•°æ˜¯ç›´æŽ¥å‘Šè¯‰ä½ è¯­æ³•ï¼ŒåŸºæœ¬æ²¡è§„å¾‹ï¼Œåªèƒ½å¼ºè®°ï¼Œæ•ˆçŽ‡ç•¥ä½Žã€‚  
æ˜Žç™½åŽŸç†åŽï¼Œä¸ä»…è®°å¿†æ·±åˆ»ï¼Œè€Œä¸”è¿˜å¯ä»¥ç¼–å†™é€‚åˆè‡ªå·±çš„è§„åˆ™ã€‚  
ï¼ˆå…¶å®žè¯´åˆ°åº•éƒ½æ˜¯ã€Šç¼–è¯‘åŽŸç†ã€‹è¯¾ç¨‹ä¸Šçš„ä¸œè¥¿ï¼Œæ— å¥ˆå­¦æ ¡ä¸å¼€ðŸ˜¤å¥½æ°”å“¦ï¼‰

### å‚è€ƒèµ„æ–™  
1.    ã€Šç®—æ³•ï¼šç¬¬4ç‰ˆã€‹
    
### ç­”æ¡ˆ    
1.  +:(ab)+ ç­‰ä»·äºŽ (ab)(ab)*
2.  {0, 1, 2, 3, 4, 6}->{2, 3, 4, 7}->{2, 3, 4}->{5, 8, 9}->{10}
